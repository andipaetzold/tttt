(this.webpackJsonptttt=this.webpackJsonptttt||[]).push([[0],{34:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(0),r=n.n(a),i=n(10),s=n.n(i),j=n(17),l=n(9),o=n(7),b=n(19),d=n.n(b),u=n(43),h=n(37),O=n(38),x=n(46),f=n(23),m=n(45),p=n(44),v=n(39),g=n(22),y=n(40),S=n(41),C=n(42),k={start:function(){return"Start"},15:function(e){var t=e.nextAthlete;return"".concat(t,". Get ready.")},10:function(){return"Change in 10"},5:function(){return"Five"},2:function(){return"Two"},1:function(){return"One"},0:function(e){var t=e.nextAthlete;return"Change to ".concat(t)}};function A(e,t){k[e]&&function(e){var t=new SpeechSynthesisUtterance;t.text=e,t.lang="en-US",speechSynthesis.speak(t)}(k[e](t))}var w=["Anton","Berta","C\xe4sar","Dora","Emil","Friedrich"];function I(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),b=s[0],k=s[1],I=Object(a.useState)(0),T=Object(o.a)(I,2),D=T[0],G=T[1],B=Object(a.useState)(30),F=Object(o.a)(B,2),M=F[0],E=F[1],J=Object(a.useState)(false),L=Object(o.a)(J,2),P=L[0],U=L[1],R=Object(a.useState)(w.map((function(e){return{text:e,enabled:!0}}))),V=Object(o.a)(R,2),W=V[0],X=V[1],q=Object(a.useState)(0),z=Object(o.a)(q,2),H=z[0],K=z[1],Q=Object(a.useState)(void 0),Y=Object(o.a)(Q,2),Z=Y[0],$=Y[1],_=Object(a.useMemo)((function(){var e=W.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{index:t})}));return void 0===Z?e.find((function(e){return e.enabled})).index:[].concat(Object(j.a)(e.slice(Z+1)),Object(j.a)(e)).filter((function(e){return e.enabled}))[0].index}),[Z,W]),ee=Object(a.useRef)();d()((function(){if(b){var e=void 0===Z?D:M,t=Date.now(),c=N(t-n),a=N(ee.current-n);K(Math.max(e-c,0)),c!==a&&(c>=e?(P&&(void 0===Z?A("start"):A(0,{nextAthlete:W[_].text})),$(_),r(t)):P&&A(e-c,{nextAthlete:W[_].text})),ee.current=t}}),500);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u.a,{bg:"light",className:"mb-2",children:Object(c.jsx)(h.a,{children:Object(c.jsx)(u.a.Brand,{children:"Team Time Trial Timer"})})}),Object(c.jsxs)(h.a,{children:[Object(c.jsxs)(O.a,{className:"mb-2",children:[b&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"text-center display-2",children:void 0===Z?"Wait":W[Z].text}),Object(c.jsxs)("h2",{className:"text-center display-5",children:["\ud83d\udd1c ",W[_].text]}),Object(c.jsxs)("h3",{className:"text-center display-6",children:["\u23f1\ufe0f ",H,"s"]}),Object(c.jsx)(x.a,{style:{transform:"scaleX(-1)",background:"white"},now:H,max:void 0===Z?D:M})]}),Object(c.jsx)("div",{className:"mt-4 text-center",children:b?Object(c.jsx)(f.a,{variant:"danger",onClick:function(){k(!1)},children:"Stop"}):Object(c.jsx)(f.a,{variant:"primary",onClick:function(){var e=Date.now();r(e),ee.current=e,K(D>0?D:M),$(D>0?void 0:0),k(!0)},children:"Start"})})]}),Object(c.jsx)(m.a,{children:Object(c.jsxs)(m.a.Body,{children:[Object(c.jsx)("h3",{children:"Athletes"}),W.map((function(e,t){return Object(c.jsx)(p.a.Group,{as:v.a,controlId:"athlete-".concat(t),children:Object(c.jsx)(g.a,{sm:12,children:Object(c.jsxs)(y.a,{children:[Object(c.jsx)(y.a.Prepend,{children:Object(c.jsxs)(y.a.Text,{children:["#",t+1]})}),Object(c.jsx)(p.a.Control,{type:"text",placeholder:"Athlete ".concat(t+1),value:e.text,onChange:function(e){return X(W.map((function(n,c){return c===t?Object(l.a)(Object(l.a)({},n),{},{text:e.target.value}):n})))}}),Object(c.jsx)(y.a.Append,{children:Object(c.jsx)(S.a,{toggle:!0,children:Object(c.jsx)(C.a,{variant:"outline-secondary",type:"checkbox",name:"athlete-".concat(t,"-enabled"),checked:!e.enabled,disabled:e.enabled&&1===W.filter((function(e){return e.enabled})).length,onChange:function(e){return X(W.map((function(n,c){return c===t?Object(l.a)(Object(l.a)({},n),{},{enabled:!e.target.checked}):n})))},children:"\u2620\ufe0f"})})})]})})},t)})),Object(c.jsx)("h3",{children:"Settings"}),Object(c.jsxs)(p.a.Group,{controlId:"startDelay",children:[Object(c.jsx)(p.a.Label,{children:"Start Delay (in seconds)"}),Object(c.jsx)(p.a.Control,{type:"number",value:D,onChange:function(e){return G(+e.target.value)},disabled:b,min:0})]}),Object(c.jsxs)(p.a.Group,{controlId:"timePerAthlete",children:[Object(c.jsx)(p.a.Label,{children:"Interval (in seconds)"}),Object(c.jsx)(p.a.Control,{type:"number",value:M,onChange:function(e){return E(+e.target.value)},disabled:b,min:20})]}),Object(c.jsx)(p.a.Group,{controlId:"speechEnabled",children:Object(c.jsx)(p.a.Check,{type:"checkbox",label:"Voice Output",checked:P,onChange:function(e){return U(e.target.checked)}})})]})})]})]})}function N(e){return Math.round(e/1e3)}n(33);s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(I,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.2f55d5af.chunk.js.map